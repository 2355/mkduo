# Duolingo風プログラミング学習アプリ構築計画書

## 1. アプリケーション概要

Duolingoのような対話型学習体験を提供するプログラミング学習アプリをNext.jsで開発する。ユーザーはゲーム感覚でプログラミング知識を学べるプラットフォームを目指す。スマホでも気軽に学習できる環境を提供する。

## 2. 学習内容と構造

### 2.1 対象技術・知識領域
- 初期フェーズ: TypeScript
- 将来的な拡張: 
  - プログラミング言語 (JavaScript, Python, Go, Rust など)
  - Webフレームワーク (React, Vue, Angular など)
  - バックエンド技術 (Node.js, Express など)
  - セキュリティ知識 (OWASP Top 10, セキュアコーディングなど)
  - ネットワーク知識 (HTTP, REST, GraphQL など)
  - インフラストラクチャ (Docker, Kubernetes, CI/CD など)
  - データベース (SQL, NoSQL など)

### 2.2 対象ユーザー
- プログラミング経験者（基本的な開発知識を持つ人）
- 新しい技術やベストプラクティスを学びたい開発者
- モバイルでの隙間時間学習を希望するユーザー

### 2.3 レッスン構造
- **コース**: 技術分野や知識領域（TypeScript, HTTP, セキュリティなど）
- **レッスン**: 各コース内の小テーマ（例: 変数宣言、型注釈、インターフェース、型推論など）
- **問題（Question）**: 各レッスン内の学習アクティビティ（主に4択問題形式）

### 2.4 学習進行
- 線形進行モデル（前のレッスンをクリアしないと次に進めない）
- 一定間隔での復習メカニズム
- 短時間で完結する問題セット（モバイル学習に最適化）
- トピック横断型のスキルツリー（相互に関連する技術の学習パス）

### 2.5 マイクロラーニング設計
- 各レッスンは5分以内で完了できる設計
- 1レッスンあたり3〜5問の問題数
- 簡潔な説明とポイントを絞った問題
- 通勤・通学の電車内など隙間時間に最適化
- 学習の中断・再開が容易なセーブポイント
- 進捗状況の視覚的表示（プログレスバー等）

## 3. 機能要件

### 3.1 コア機能
- ユーザー認証（登録、ログイン、パスワードリセット）
- 学習進捗管理
- 問題タイプ:
  - 多肢選択問題（4択）
    - 正しいコードの選択
    - 適切な実装・設計の選択
    - エラーの原因を特定する問題
    - セキュリティ脆弱性の特定
    - ベストプラクティスの選択
- 即時フィードバック
- モバイルフレンドリーUI
- 学習カテゴリ間の切り替え機能
- 学習時間の記録・表示機能
- オフライン時の一時保存機能

### 3.2 ゲーミフィケーション要素
- 経験値とレベルシステム
- デイリーストリーク
- アチーブメント（バッジ）
- 仮想通貨（ジェム/コイン）

### 3.3 ソーシャル機能
- フレンド機能
- リーダーボード
- 進捗共有
- ユーザーディスカバリー機能
  - コース別のトップスコアユーザー表示
  - バッジ獲得数ランキング
  - 特定技術の「専門家」を見つける機能
  - 学習パターンが似ているユーザーの推薦
- ユーザープロフィールページ
  - 獲得バッジの表示
  - コース別の達成度表示
  - 専門分野のビジュアル化
- フォロー機能
  - フォローしているユーザーの最近の活動表示
  - フォローしているユーザーの学習進捗通知
- コミュニティチャレンジ
  - 特定コースやレッスンでの競争イベント
  - 期間限定のスコア競争

## 4. 技術スタック

### 4.1 フロントエンド
- Next.js（React）
- TypeScript
- Tailwind CSS
- Framer Motion（アニメーション）

### 4.2 バックエンド
- Next.js API Routes
- Prisma（ORM）
- NextAuth.js（認証）

### 4.3 データベース
- PostgreSQL
- (オプション) Redis for caching

### 4.4 インフラ
- Vercel（ホスティング）
- Supabase/PlanetScale（データベース）

## 5. データモデル

### 5.1 主要エンティティ
- User
- Course（技術分野や知識領域 - TypeScript, HTTP, セキュリティなど）
- Lesson（各コース内の個別レッスン）
- Question（4択問題）
- Answer（選択肢と正解情報）
- UserProgress（ユーザーの回答履歴と進捗）
- Achievement
- Streak
- SkillTree（コース間の関連性を表現）
- UserFollowing（ユーザー間のフォロー関係）
- UserRanking（コースごとのユーザーランキング情報）
- UserExpertise（ユーザーの専門分野情報）

## 6. UI/UXデザイン

### 6.1 主要ページ
- ランディングページ
- ダッシュボード
- コース一覧画面
- レッスン選択画面
- 問題画面（4択形式）
- プロフィール
- 設定
- リファレンス（コース別）
- スキルツリー表示
- ソーシャルハブ
  - フレンド一覧
  - ランキングページ（全体/コース別）
  - 「専門家を探す」ページ
  - バッジギャラリー（獲得者一覧付き）

### 6.2 デザイン原則
- シンプルで直感的なUI
- 視覚的フィードバック
- モバイルファースト設計
- アクセシビリティへの配慮
- シンタックスハイライト
- タップ/スワイプ操作の最適化
- ミニマルなデータ転送（モバイルデータ通信に配慮）
- 素早い読み込み時間

### 6.3 マイクロラーニング対応UI
- 5分タイマー表示（オプション）
- 残り問題数の明示
- ワンハンド操作に対応したコントロール配置
- 電車内などでの使用を想定した高コントラストモード
- バッテリー消費を抑えたデザイン

## 7. 開発ロードマップ

### フェーズ1: MVPの開発
- 基本的なユーザー認証
- TypeScript基礎コースの作成
- 4択形式の問題システム
- 基本的な進捗トラッキング
- モバイル対応UI

### フェーズ2: 機能拡張
- 問題バリエーションの追加
- 高度なTypeScriptコース
- ゲーミフィケーション要素の追加
- 新コースの追加（将来の拡張に備えた基盤）
- ユーザーフィードバックに基づく改善

### フェーズ3: コンテンツ拡大
- セキュリティ知識コースの追加
- HTTP/ネットワーク知識コースの追加
- 別のプログラミング言語コースの追加
- スキルツリーの実装

### フェーズ4: ソーシャルと拡張
- ソーシャル機能の実装
  - 基本的なフォロー/フレンド機能
  - ユーザーディスカバリー機能
  - コース別ランキングシステム
  - バッジショーケース
- 高度な学習アルゴリズム
- コンテンツ作成者プラットフォーム（教育者が問題を作成できる）

## 8. テスト戦略

- ユニットテスト: Jest
- E2Eテスト: Cypress
- ユーザーテスト: 小規模なベータテスト
- モバイルデバイスでのテスト

## 9. セキュリティ考慮事項

- HTTPS の強制
- CSRF保護
- レート制限
- データバックアップ戦略

## 10. コース内容概要

### TypeScript
- 初級: 基本的な型、配列、オブジェクト、関数
  - 各レッスンは具体的な1つのコンセプトに焦点（例：「number型とstring型」「配列の型定義」など）
  - コード例は短く、一目で理解できるもの
  - 実務でよく使われるパターンを優先
- 中級: インターフェース、クラス、型エイリアス、Union/Intersection型
- 上級: ジェネリクス、高度な型操作、型ガード、ユーティリティ型

### セキュリティ知識
- 初級: 基本的なセキュリティ概念、OWASP Top 10の概要
- 中級: インジェクション攻撃、XSS、CSRF対策
- 上級: セキュアコーディング、認証・認可、暗号化

### HTTP/ネットワーク
- 初級: HTTPメソッド、ステータスコード、基本ヘッダー
- 中級: RESTful API設計、HTTPSの仕組み、キャッシュ戦略
- 上級: HTTPパフォーマンス最適化、GraphQL、WebSockets

### 将来的なコース候補
- フロントエンドフレームワーク (React, Vue)
- バックエンドテクノロジー (Node.js, Express)
- データベース設計と実装
- クラウドインフラストラクチャ

## 11. 拡張性のあるコンテンツ管理システム

- モジュラーなコース構造設計
- コンテンツの段階的なリリース計画
- メタデータによる関連コンテンツの提案
- ユーザーフィードバックに基づくコンテンツ改善サイクル

## 12. モバイル最適化戦略

- レスポンシブデザイン
- タップフレンドリーなUI要素
- PWA対応
- オフラインモード（将来的に）
- プッシュ通知（学習リマインダー）
- バッテリー消費の最適化
- データ使用量の最小化
- 片手操作の容易さ
- 5分以内の学習セッション設計
- 学習の中断・再開がスムーズな体験

## 13. 今後の検討課題

- オフライン機能
- モバイルアプリ（React Native）への展開
- AI支援学習機能
- コミュニティ主導のコンテンツ作成
- サブスクリプションモデル
- 企業向け学習管理システム統合
- 認定・資格制度の導入
